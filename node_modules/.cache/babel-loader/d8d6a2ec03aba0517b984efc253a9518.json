{"ast":null,"code":"import _slicedToArray from \"/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/src/App.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport personService from './services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Name = function Name(_ref) {\n  var persons = _ref.persons,\n      index = _ref.index;\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Name: \", persons[index].name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 35\n    }, _this), \" Number: \", persons[index].number, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Name;\n\nvar AllListItems = function AllListItems(_ref2) {\n  var persons = _ref2.persons;\n  return persons.map(function (name, index) {\n    return /*#__PURE__*/_jsxDEV(Name, {\n      persons: persons,\n      index: index\n    }, persons.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }, _this);\n  });\n};\n\n_c2 = AllListItems;\n\nvar FilterList = function FilterList(_ref3) {\n  var filter = _ref3.filter,\n      persons = _ref3.persons;\n  var result = persons.filter(function (person) {\n    return person.name.toLowerCase().includes(filter.toLowerCase());\n  });\n\n  if (result.length < 1) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No matches found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return result.map(function (filteredPerson) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Name: \", filteredPerson.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 35\n      }, _this), \" Number: \", filteredPerson.number, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, _this);\n  });\n};\n\n_c3 = FilterList;\n\nvar App = function App() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      persons = _useState2[0],\n      setPersons = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newName = _useState4[0],\n      setNewName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newNumber = _useState6[0],\n      setNewNumber = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filter = _useState8[0],\n      setFilter = _useState8[1];\n\n  useEffect(function () {\n    personService.getAll().then(function (initialPersons) {\n      setPersons(initialPersons);\n    });\n  }, []);\n  console.log('render', persons.length, 'persons');\n\n  var addObject = function addObject(event) {\n    event.preventDefault();\n    var nameObject = {\n      name: newName,\n      number: newNumber\n    };\n    var found = persons.some(function (el) {\n      return el.name === newName;\n    });\n\n    if (found === true) {\n      userExists(newName);\n    } else {\n      personService.create(nameObject).then(function (returnedPerson) {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('');\n        setNewNumber('');\n      });\n    }\n  };\n\n  var handleNameChange = function handleNameChange(event) {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  var handleNumberChange = function handleNumberChange(event) {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  var handleFilterChange = function handleFilterChange(event) {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  };\n\n  var userExists = function userExists(newName) {\n    return window.alert(\"\".concat(newName, \" is already added to phonebook\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addObject,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Filter names containing:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: filter,\n          onChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add new item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addObject,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newName,\n          onChange: handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newNumber,\n          onChange: handleNumberChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, _this), filter === \"\" ? /*#__PURE__*/_jsxDEV(AllListItems, {\n      persons: persons\n    }, persons.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(FilterList, {\n      persons: persons,\n      filter: filter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(App, \"JHr2eK4OobawTZhl4I6A3xvaQs4=\");\n\n_c4 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Name\");\n$RefreshReg$(_c2, \"AllListItems\");\n$RefreshReg$(_c3, \"FilterList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","personService","Name","persons","index","name","number","AllListItems","map","FilterList","filter","result","person","toLowerCase","includes","length","filteredPerson","App","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","getAll","then","initialPersons","console","log","addObject","event","preventDefault","nameObject","found","some","el","userExists","create","returnedPerson","concat","handleNameChange","target","value","handleNumberChange","handleFilterChange","window","alert","id"],"sources":["/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios'\n\nimport personService from './services/persons'\n\nconst Name = ({ persons, index }) => {\n  return (\n    <p>\n      Name: {persons[index].name} <br /> Number: {persons[index].number}\n      <br />\n    </p>\n  );\n};\n\nconst AllListItems = ({ persons }) => {\n  return persons.map((name, index) => (\n    <Name key={persons.name} persons={persons} index={index} />\n  ));\n};\n\nconst FilterList = ({ filter, persons }) => {\n  const result = persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(filter.toLowerCase())\n    )\n  if (result.length < 1) {\n    return <p>No matches found.</p>;\n  }\n\n  return result.map((filteredPerson) => (\n    <p>\n      Name: {filteredPerson.name} <br /> Number: {filteredPerson.number}\n      <br />\n    </p>\n  )\n  );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n  const addObject = (event) => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n    \n\n    const found = persons.some((el) => el.name === newName);\n    if (found === true) {\n      userExists(newName);\n    } else {\n      personService\n      .create(nameObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n    }\n  };\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  };\n\n  const userExists = (newName) => {\n    return window.alert(`${newName} is already added to phonebook`);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form onSubmit={addObject}>\n        <div>\n          Filter names containing:{\" \"}\n          <input value={filter} onChange={handleFilterChange} />\n        </div>\n      </form>\n\n      <h3>Add new item</h3>\n\n      <form onSubmit={addObject}>\n        <div>\n          Name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n\n      <h3>Numbers</h3>\n      {filter === \"\" ? (\n        <AllListItems key={persons.id} persons={persons} />\n      ) : (\n        <FilterList persons={persons} filter={filter} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}