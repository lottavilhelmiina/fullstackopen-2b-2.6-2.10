{"ast":null,"code":"import _slicedToArray from \"/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/src/App.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Name = function Name(_ref) {\n  var persons = _ref.persons,\n      index = _ref.index;\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Name: \", persons[index].name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 35\n    }, _this), \" Number: \", persons[index].number, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = Name;\n\nvar AllListItems = function AllListItems(_ref2) {\n  var persons = _ref2.persons;\n  return persons.map(function (name, index) {\n    return /*#__PURE__*/_jsxDEV(Name, {\n      persons: persons,\n      index: index\n    }, persons.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }, _this);\n  });\n}; // Miten rivillä 25 olevan ehtolausekkeen sais toimimaan?\n// yritin logata filteredPerson listaa kun matcheja ei löydy, eikä\n// silloin tulostu yhtään mitään, ei edes \"\", muulloin tulostuu taulukon sisältö\n\n\n_c2 = AllListItems;\n\nvar FilterList = function FilterList(_ref3) {\n  var filter = _ref3.filter,\n      persons = _ref3.persons;\n  return persons.filter(function (person) {\n    return person.name.toLowerCase().includes(filter.toLowerCase());\n  }).map(function (filteredPerson) {\n    return filteredPerson === undefined ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No matches found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Name: \", filteredPerson.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 39\n      }, _this), \" Number: \", filteredPerson.number, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, _this);\n  });\n};\n\n_c3 = FilterList;\n\nvar App = function App() {\n  _s();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      persons = _useState2[0],\n      setPersons = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newName = _useState4[0],\n      setNewName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newNumber = _useState6[0],\n      setNewNumber = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      filter = _useState8[0],\n      setFilter = _useState8[1];\n\n  useEffect(function () {\n    console.log('effect');\n\n    var eventHandler = function eventHandler(response) {\n      console.log('promise fulfilled');\n      setNotes(response.data);\n    };\n\n    var promise = axios.get('http://localhost:3001/notes');\n    promise.then(eventHandler);\n  }, []);\n\n  var addObject = function addObject(event) {\n    event.preventDefault();\n    var nameObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    };\n    var found = persons.some(function (el) {\n      return el.name === newName;\n    });\n\n    if (found === true) {\n      userExists(newName);\n    } else {\n      setPersons(persons.concat(nameObject));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  var found = function found(filteredPerson) {\n    filteredPerson.some(function (el) {\n      return el.name === newName;\n    });\n  };\n\n  var handleNameChange = function handleNameChange(event) {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  var handleNumberChange = function handleNumberChange(event) {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  var handleFilterChange = function handleFilterChange(event) {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  };\n\n  var userExists = function userExists(newName) {\n    return window.alert(\"\".concat(newName, \" is already added to phonebook\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addObject,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Filter names containing:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: filter,\n          onChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add new item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addObject,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newName,\n          onChange: handleNameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newNumber,\n          onChange: handleNumberChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 19\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, _this), filter === \"\" ? /*#__PURE__*/_jsxDEV(AllListItems, {\n      persons: persons\n    }, persons.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(FilterList, {\n      persons: persons,\n      filter: filter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(App, \"JHr2eK4OobawTZhl4I6A3xvaQs4=\");\n\n_c4 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Name\");\n$RefreshReg$(_c2, \"AllListItems\");\n$RefreshReg$(_c3, \"FilterList\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","Name","persons","index","name","number","AllListItems","map","id","FilterList","filter","person","toLowerCase","includes","filteredPerson","undefined","App","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","console","log","eventHandler","response","setNotes","data","promise","get","then","addObject","event","preventDefault","nameObject","length","found","some","el","userExists","concat","handleNameChange","target","value","handleNumberChange","handleFilterChange","window","alert"],"sources":["/Users/lottaorsmaa/Desktop/fullstack-open/2c-datan-hakeminen-palvelimelta/fullstackopen-2b-2.6-2.10/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from 'axios'\n\nconst Name = ({ persons, index }) => {\n  return (\n    <p>\n      Name: {persons[index].name} <br /> Number: {persons[index].number}\n      <br />\n    </p>\n  );\n};\n\nconst AllListItems = ({ persons }) => {\n  return persons.map((name, index) => (\n    <Name key={persons.id} persons={persons} index={index} />\n  ));\n};\n\n// Miten rivillä 25 olevan ehtolausekkeen sais toimimaan?\n// yritin logata filteredPerson listaa kun matcheja ei löydy, eikä\n// silloin tulostu yhtään mitään, ei edes \"\", muulloin tulostuu taulukon sisältö\nconst FilterList = ({ filter, persons }) => {\n  return persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(filter.toLowerCase())\n    )\n    .map((filteredPerson) =>\n      filteredPerson === undefined ? (\n        <p>No matches found.</p>\n      ) : (\n        <p>\n          Name: {filteredPerson.name} <br /> Number: {filteredPerson.number}\n          <br />\n        </p>\n      )\n    );\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    console.log('effect')\n  \n    const eventHandler = response => {\n      console.log('promise fulfilled')\n      setNotes(response.data)\n    }\n  \n    const promise = axios.get('http://localhost:3001/notes')\n    promise.then(eventHandler)\n  }, [])\n\n  const addObject = (event) => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    };\n    const found = persons.some((el) => el.name === newName);\n    if (found === true) {\n      userExists(newName);\n    } else {\n      setPersons(persons.concat(nameObject));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n  const found = (filteredPerson) => {\n    filteredPerson.some((el) => el.name === newName);\n  };\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  };\n\n  const userExists = (newName) => {\n    return window.alert(`${newName} is already added to phonebook`);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <form onSubmit={addObject}>\n        <div>\n          Filter names containing:{\" \"}\n          <input value={filter} onChange={handleFilterChange} />\n        </div>\n      </form>\n\n      <h3>Add new item</h3>\n\n      <form onSubmit={addObject}>\n        <div>\n          Name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          Number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n\n      <h3>Numbers</h3>\n      {filter === \"\" ? (\n        <AllListItems key={persons.id} persons={persons} />\n      ) : (\n        <FilterList persons={persons} filter={filter} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}